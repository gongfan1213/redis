# 进程
程序的一次执行，应用程序以进程的形式，运行在操作系统之上的，享受操作系统提供的服务

<img width="576" height="397" alt="image" src="https://github.com/user-attachments/assets/c7c578dd-be05-4ac8-9e4d-9ff881516c29" />

- 程序段
- 数据段
- 进程控制块

java编写的程序都运行在虚拟机当中

每当使用java命令启动一个java应用层序的时候，就会启动一个jvm进程，在这个jvm进程的内部，所有的java程序代码的运行都是以线程来运行的

# 线程
进程代码块的一次顺序执行流程，线程演进完成以后，线程是cpu调度额最小单位，一条进程可以有一个或者多个线程，哥哥线程共享进程的内存空间，系统资源，进程仍然是操作系统分配的最小单位

# java程序的主线程

jvm找到程序入口点main（）方法之后，然后运行main（）方法，这样就产生了一个线程，这个线程称之为主线程，当main方法结束以后，主线程运行完成jvm进程也随即退出

## 线程的大致结构

一个标准的线程主要粉三部分：
- 线程描述信息
- 程序计数器pc
- 栈内存

  <img width="543" height="359" alt="image" src="https://github.com/user-attachments/assets/68b9517b-3291-40cd-98d6-32ac5f6aaa18" />




<img width="730" height="344" alt="image" src="https://github.com/user-attachments/assets/6be00d0a-5bb1-4181-ac49-2a08defe0295" />

<img width="697" height="432" alt="image" src="https://github.com/user-attachments/assets/8a0fd1cc-e16b-4c94-ad19-6e893d0b31cd" />

一对一的模型

创建一个用户线程也会创建一个内核的线程，开销大的

# java线程的底层实现

java线程在windows和linux平台上的实现方式就是内核线程的实现方式

windows上采用win32 api实现的

win 32 api 是用于windows操作系统内核级别的线程库

uniux和linux采用Pthread

Pthread：POSIX标准的扩展，提供用户级别或者内核级别的库

<img width="734" height="492" alt="image" src="https://github.com/user-attachments/assets/9e0f0e92-3ddf-4408-a99b-1e484fa56057" />

OSThread * osthread = new OSThread

<img width="734" height="492" alt="image" src="https://github.com/user-attachments/assets/637fb453-8aae-4043-bed6-b13361e24fc1" />






